(()=>{"use strict";window.location.origin;let t,o=io(),r=!0;function e(){r?($("#message").text("Your turn."),$(".board button").removeAttr("disabled")):($("#message").text("Your opponent's turn"),$(".board button").prop("disabled",!0))}function n(e){r&&($(e.target).text().length||o.emit("make.move",{symbol:t,position:$(e.target).attr("id")}))}o.on("move.made",(function(o){$("#"+o.position).text(o.symbol),r=o.symbol!==t,function(){let t=function(){let t={};return $(".board button").each((function(){let o=$(this).attr("id");o&&(t[o]=$(this).text()||"")})),t}(),o=["XXX","OOO"],r=[t.r0c0+t.r0c1+t.r0c2,t.r1c0+t.r1c1+t.r1c2,t.r2c0+t.r2c1+t.r2c2,t.r0c0+t.r1c0+t.r2c0,t.r0c1+t.r1c1+t.r2c1,t.r0c2+t.r1c2+t.r2c2,t.r0c0+t.r1c1+t.r2c2,t.r0c2+t.r1c1+t.r2c0];for(let t of r)if(t===o[0]||t===o[1])return!0;return!1}()?(r?$("#message").text("You lost."):$("#message").text("You won!"),$(".board button").prop("disabled",!0)):e()})),o.on("game.begin",(function(o){t=o.symbol,r="X"===t,e()})),o.on("opponent.left",(function(){$("#message").text("Your opponent left the game."),$(".board button").attr("disabled","")})),$((function(){$(".board button").prop("disabled",!0),$(".board> button").on("click",n)}))})();